## 享元模式
享元模式能使相似对象间通过尽可能多地共享，以减少内存使用和计算花销.
维基百科 
> 在计算机编程中，享元是一种软件设计模式。一个享元就是一个对象，它通过与其它相似对象共享尽可能多的数据，以达到对内存的最少化使用;
  它适用于对象数量庞大的情况，此时简单地重复表示将需要过量的内存量。

在享元模式中可以共享的相同内容称为内部状态(IntrinsicState)，而那些需要外部环境来设置的不能共享的内容称为外部状态(Extrinsic State)
, 享元模式共享一份实例, 避免大量非常相似类的开销.  
  
角色: 
 - Flyweight（抽象享元类）：通常是一个接口或抽象类，向外界提供享元对象的内部数据（内部状态）或外部数据（外部状态）。
 - ConcreteFlyweight（具体享元类）：实现了Flyweight（抽象享元类）也称为享元对象，指定内部状态，为内部状态增加存储空间。通常我们可以结合单例模式来设计具体享元类，为每一个具体享元类提供唯一的享元对象。 
 - UnsharedConcreteFlyweight（非共享具体享元类）：指不需要共享的Flyweight子类。
 - FlyweightFactory（享元工厂类）：用于创建并管理享元对象，针对抽象享元类编程，将各种类型的具体享元对象存储在一个享元池中，享元池一般设计为键值对的集合（也可以是其他类型的集合），同时可以结合工厂模式进行设计
 
 享元模式的核心在于享元工厂类, 其作用提供一个用于存储享元对象的享元池, 用户需要对象时, 首先从享元池获取, 如果没有,则创建新的享元对象给用户, 并保存到享元池中.
 
缺点:
- 享元模式使得系统更加复杂，需要分离出内部状态和外部状态
- 为了使对象可以共享，享元模式需要将享元对象的状态外部化，而读取外部状态使得运行时间变长。