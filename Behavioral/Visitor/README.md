## 访问者模式

访问者模式表示一个作用于某对象结构中各元素的操作。它可以在不修改各元素类的前提下定义作用于这些元素的新操作，即动态的增加具体访问者角色。

访问者模式利用了双重分派。先将访问者传入元素对象的Accept方法中，然后元素对象再将自己传入访问者，之后访问者执行元素的相应方法.

访问者模式适用于数据结构相对稳定的系统, 他把数据结构和作用于结构上的操作之间耦合解脱开, 使得操作集合可以相对只有地演化.

访问者新增新操作很容易, 因为新增操作就意味着增加一个新的访问者. 访问者模式将有关行为集中刀一个访问者对象.

维基百科:
> 在面向对象编程和软件工程中，访问者设计模式是将算法与其所操作的对象结构进行分离的一种方法。
  这种分离的实际结果是：具有在不修改现有对象结构的情况下，将新操作加入到对象结构中的能力。
  
角色:
- 抽象访问者角色(Visitor)：为该对象结构(ObjectStructure)中的每一个具体元素提供一个访问操作接口。该操作接口的名字和参数标识了 要访问的具体元素角色。这样访问者就可以通过该元素角色的特定接口直接访问它。
- 具体访问者角色(ConcreteVisitor):实现抽象访问者角色接口中针对各个具体元素角色声明的操作。
- 抽象节点（Element）角色:该接口定义一个accept操作接受具体的访问者。
- 具体节点（Element）角色:实现抽象节点角色中的accept操作。
- 对象结构角色(ObjectStructure)：这是使用访问者模式必备的角色。它要具备以下特征：能枚举它的元素；可以提供一个高层的接口以允许该访问者访问它的元素；可以是一个复合（组合模式）或是一个集合，如一个列表或一个无序集合

缺点:
- 如果增加新的元素节点，则会导致包括访问者接口及其子类的改变，这就会违反了面向对象中的开闭原则